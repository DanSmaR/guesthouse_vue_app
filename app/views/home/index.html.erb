<article>
  <h1>Pousadaria App</h1>
  <p>Aqui você encontra as melhores pousadas!</p>

  <div id="app">
    <dl v-for="guesthouse in guesthouses">
      <dt><h4><a :href="'guesthouses/' + guesthouse.id">{{ guesthouse.brand_name }}</a></h4></dt>
      <dd>{{ guesthouse.address.city }} - {{ guesthouse.address.state }}</dd>

      <dt v-if="guesthouse.average_rating != null"><strong>Avaliação</strong></dt>
      <dd>{{ guesthouse.average_rating }}</dd>
    </dl>
  </div>
</article>

<script>
  const { createApp } = Vue

  createApp({
    data() {
      return {
        guesthouses: []
      }
    },
    mounted() {
      fetch('http://localhost:4000/api/v1/guesthouses')
        .then(response => response.json())
        .then(data => this.guesthouses = data);
    }
  }).mount('#app')
</script>